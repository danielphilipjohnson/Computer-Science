var Portfolio = (function () {
  var style = {
    color: "#fff",
    position: "absolute",
    right: "17px",
    top: "0",
    padding: 0,
    margin: 0,
    transform: null,
  };

  var createBar = function (id, style, percent) {
    // progressbar.js@1.0.0 version is used
    // Docs: http://progressbarjs.readthedocs.org/en/1.0.0/
    var bar = new ProgressBar.Line(id, {
      strokeWidth: 1,
      easing: "easeInOut",
      duration: 1400,
      color: "#04a70c",
      trailColor: "#eee",
      trailWidth: 1,
      svgStyle: { width: percent + "%", height: "100%" },
      text: {
        style: style,
        autoStyleContainer: false,
      },
      from: { color: "#FFEA82" },
      to: { color: "#ED6A5A" },
      step: (state, bar) => {
        bar.setText(Math.round(bar.value() * percent) + " %");
      },
    });
    bar.animate(1.0); // Number from 0.0 to 1.0
  };

  return {
    check: function () {
      // check for broken images
      $("img").each(function () {
        if (
          (typeof this.naturalWidth != "undefined" && this.naturalWidth == 0) ||
          this.readyState == "uninitialized"
        ) {
          $(this).attr("src", "assets/img/imagenotfound.png");
        }
      });
    },

    init: function () {
      if (document.getElementById("html") !== null) {
        createBar("#html", style, 86);
        createBar("#css", style, 82);
        createBar("#js", style, 70);
        createBar("#react", style, 64);
        createBar("#angular", style, 54);
        createBar("#node", style, 40);
        createBar("#gulp", style, 78);
        createBar("#django", style, 56);
      }
      Portfolio.check();
      new WOW().init();
      new AOS.init();
    },
  };
})();

Portfolio.init();

var Blogs = (function () {
  var blogSettings = {
    //full-image
    Parent: ".card-columns#blogs",
    HTMLcardText: `<div class="card blog wow fadeIn" data-wow-duration="2s" data-wow-delay="0s"></div>`,
    HTMLcardFullImage: `<div class="card blog full-image wow fadeIn" data-wow-duration="2s" data-wow-delay="0s"></div>`,
    HTMLcard: `<div class="x card blog image wow fadeIn" data-wow-duration="2s" data-wow-delay="0s"></div>`,
    HTMLbar: `
      <div class="bar" data-src="">
        <i class="fas fa-blog"></i>
        <i></i>
        <span class="title">blog</span>
      </div>`,

    HTMLcardHalfBody: `<div class="card-body">
                      <div class="media"> 
                        <img class="thumbnail mr-3" src="/assets/img/processed-images/profile1_400w.png" alt="profile pic"/>
                        <div class="media-body">
                        <p>   Posted by  <span class="title title">Daniel Johnson</span>  </p>
                        <small class="text-muted text-muted">APRIL 29, 2020</small>
                      </div>
                    </div>
                    <ul class="topics">
                      <li class="text-muted"><i class="fab fa-markdown"></i></li>
                      <li class="text-muted"><i class="fab fa-less"></i></li>
                      <li class="text-muted"><i class="fab fa-node-js"></i></li>
                    </ul>
                    <h5 class="card-title">Be the change that you wish to see in the world.</h5>
                    <p class="card-text text-muted">
                      This is a longer card with supporting text below as a natural lead-in to
                      additional content. This content is a little bit longer.
                    </p>
                  </div>`,
    HTMLcardFullBody: `<div class="image" style="background-image:url(/assets/img/processed-images/photo%number%_400w.png)">
                        <div class="card-body image">
                            <div class="media">
                                <img class="thumbnail mr-3" src="/assets/img/processed-images/profile1_400w.png" alt="profile pic">
                                <div class="media-body">
                                    <p>Posted by
                                        <span class="title">Daniel Johnson</span>
                                    </p>
                                    <small class="text-muted">APRIL 29, 2020</small>
                                </div>
                            </div>
                            <h5 class="card-title">Be the change that you wish to see in the world.</h5>
                            <p class="card-text text-muted">This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
                            <ul class="topics">
                                <li class="text-muted">
                                    <i class="fab fa-html5"></i>
                                </li>
                                <li class="text-muted">
                                    <i class="fab fa-css3"></i>
                                </li>
                                <li class="text-muted">
                                    <i class="fab fa-angular"></i>
                                </li>
                            </ul>
                        </div>
                      </div>`,
    HTMLcardTextBody: `<div class="card-body">
            <div class="media">
                <img class="thumbnail mr-3" src="/assets/img/processed-images/profile1_400w.png" alt="profile pic"/>
                <div class="media-body">
                    <p>Posted by
                        <span class="title">Daniel Johnson</span>
                    </p>
                    <small class="text-muted">APRIL 29, 2020</small>
                </div>
            </div>
            <ul class="topics">
                <li class="text-muted">
                    <i class="fab fa-markdown"></i>
                </li>
                <li class="text-muted">
                    <i class="fab fa-sass"></i>
                </li>
                <li class="text-muted">
                    <i class="fab fa-gulp"></i>
                </li>
            </ul>
            <h5 class="card-title">Be the change that you wish to see in the world.</h5>
            <p class="card-text text-muted">
                Kitsch jean shorts mustache, squid chicharrones butcher organic cliche
                      cardigan chartreuse hell of. Franzen kale chips DIY cardigan everyday
                      carry raw denim try-hard. Ramps dreamcatcher adaptogen, photo booth
                      typewriter cloud bread pickled flannel taiyaki shaman YOLO selvage hell of
                      farm-to-table. Selfies mustache echo park air plant. Plaid messenger bag
                      forage cardigan chicharrones kombucha glossier selfies hexagon chia
                      williamsburg. Scenester everyday carry viral, artisan flexitarian small
                      batch truffaut. Letterpress messenger bag enamel pin twee knausgaard
                      schlitz pickled.
            </p>
          </div>`,
    HTMLfooter: `<div class="card-body-footer">
                        <a href="#">
                            <i class="fab fa-codepen"></i>
                        </a>
                        <a href="#">
                            <i class="fab fa-github"></i>
                        </a>
                        <a href="#">
                            <i class="fab fa-jsfiddle"></i>
                        </a>
                    </div>`,
  };

  function createHalfImageBlog(
    Parent,
    HTMLcard,
    HTMLbar,
    HTMLcardHalfBody,
    HTMLfooter
  ) {
    var randomNumber = Math.ceil(Math.random() * 6);
    var card = $(HTMLcard);

    var HTMLimage =
      '<img class="card-img-top"  src="/assets/img/processed-images/photo' +
      randomNumber +
      '_400w.png"  alt="Card image cap"/>';

    $(card).append(HTMLbar);
    $(card).append(HTMLcardHalfBody);
    $(card).append(HTMLimage);
    $(card).append(HTMLfooter);
    $(card).appendTo(Parent);
  }

  // create full image
  function createFullBlog(
    Parent,
    HTMLcardFullImage,
    HTMLbar,
    HTMLcardFullBody,
    HTMLfooter
  ) {
    var card = $(HTMLcardFullImage);

    $(card).append($(HTMLbar));
    var randomNumber = Math.ceil(Math.random() * 6);

    $(card).append(HTMLcardFullBody.replace("%number%", randomNumber));
    $(card).append(HTMLfooter);
    $(card).appendTo(Parent);
  }

  //make an object
  function createTextBlog(
    Parent,
    HTMLcardText,
    HTMLbar,
    HTMLcardTextBody,
    HTMLfooter
  ) {
    var card = $(HTMLcardText);
    $(card).append(HTMLfooter);
    $(card).append(HTMLbar);

    $(card).append(HTMLcardTextBody);

    $(card).appendTo(Parent);
  }

  function typeOfBlog(number, blogSettings) {
    if (number === 1) {
      return createTextBlog(
        blogSettings.Parent,
        blogSettings.HTMLcardText,
        blogSettings.HTMLbar,
        blogSettings.HTMLcardTextBody,
        blogSettings.HTMLfooter
      );
    } else if (number === 2) {
      return createFullBlog(
        blogSettings.Parent,
        blogSettings.HTMLcardFullImage,
        blogSettings.HTMLbar,
        blogSettings.HTMLcardFullBody,
        blogSettings.HTMLfooter
      );
    } else {
      return createHalfImageBlog(
        blogSettings.Parent,
        blogSettings.HTMLcard,
        blogSettings.HTMLbar,
        blogSettings.HTMLcardHalfBody,
        blogSettings.HTMLfooter
      );
    }
  }

  return {
    create: function (amount) {
      for (var i = 0; i <= amount; i++) {
        //determine which time of blog to make
        var randomNumber = Math.ceil(Math.random() * 3);
        typeOfBlog(randomNumber, blogSettings);
      }
    },

    init: function () {
      if (document.getElementById("blogs") !== null) {
        window.addEventListener("scroll", function () {
          if (
            window.scrollY + window.innerHeight + 150 >=
            document.documentElement.scrollHeight
          ) {
            Blogs.create(10);
          }
        });
      }
    },
  };
})();
Blogs.init();


var Portfolio = (function () {
  var portfolioSettings = {
    // moved onto card columns
    // each tab has its on parent
    Parent: ".card-columns",
    HTMLcard: `<div class="card wow fadeInRight" data-wow-duration="2s" data-wow-delay="1s">
                <div class="bar" data-src="">
                    <i class="fab fa-firefox"></i>
                    <i></i>
                    <span class="title">Title for first item</span>
                </div>
                <img class="card-img-top" src="/assets/img/website%number%.png" alt="Kitten"><a href="#">
                    <div class="card-body-footer">
                        <i class="fab fa-codepen"></i>
                        <i class="fab fa-github"></i>
                        <i class="fab fa-bitbucket"></i>
                    </div>
                </a>
            </div>`,
  };
  
  function createPortfolio(Parent, HTMLcard, randomNumber) {
    var card = $(HTMLcard.replace("%number%", randomNumber));

    $(Parent).append(card);
  }
  return {
    create: function (amount) {
      for (var i = 0; i <= amount; i++) {
        var randomNumber = Math.ceil(Math.random() * 6);
        createPortfolio(
          portfolioSettings.Parent,
          portfolioSettings.HTMLcard,
          randomNumber
        );
      }
    },

    init: function (amount) {
      if (document.getElementById("myTabContent") !== null) {
        window.addEventListener("scroll", function () {
          if (
            window.scrollY + window.innerHeight + 100 >=
            document.documentElement.scrollHeight
          ) {
            Portfolio.create(10);
          }
        });
      }
    },
  };
})();

Portfolio.init();

if (document.getElementById("typed") !== null) {
    var typed = new Typed("#typed", {
      strings: ["I'm a web developer ^1000", "I'm a Software engineer ^1000", "and i do automation"],
      smartBackspace: true, // Default value,
      typeSpeed: 50,
      startDelay: 3000,
      loop: true,
    });
  }
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyIsImJsb2cuanMiLCJtYWluLmpzIiwicG9ydGZvbGlvLmpzIiwidHlwZWQuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ25FQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUN2TkE7QUNBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQ3REQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbInZhciBQb3J0Zm9saW8gPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgc3R5bGUgPSB7XG4gICAgY29sb3I6IFwiI2ZmZlwiLFxuICAgIHBvc2l0aW9uOiBcImFic29sdXRlXCIsXG4gICAgcmlnaHQ6IFwiMTdweFwiLFxuICAgIHRvcDogXCIwXCIsXG4gICAgcGFkZGluZzogMCxcbiAgICBtYXJnaW46IDAsXG4gICAgdHJhbnNmb3JtOiBudWxsLFxuICB9O1xuXG4gIHZhciBjcmVhdGVCYXIgPSBmdW5jdGlvbiAoaWQsIHN0eWxlLCBwZXJjZW50KSB7XG4gICAgLy8gcHJvZ3Jlc3NiYXIuanNAMS4wLjAgdmVyc2lvbiBpcyB1c2VkXG4gICAgLy8gRG9jczogaHR0cDovL3Byb2dyZXNzYmFyanMucmVhZHRoZWRvY3Mub3JnL2VuLzEuMC4wL1xuICAgIHZhciBiYXIgPSBuZXcgUHJvZ3Jlc3NCYXIuTGluZShpZCwge1xuICAgICAgc3Ryb2tlV2lkdGg6IDEsXG4gICAgICBlYXNpbmc6IFwiZWFzZUluT3V0XCIsXG4gICAgICBkdXJhdGlvbjogMTQwMCxcbiAgICAgIGNvbG9yOiBcIiMwNGE3MGNcIixcbiAgICAgIHRyYWlsQ29sb3I6IFwiI2VlZVwiLFxuICAgICAgdHJhaWxXaWR0aDogMSxcbiAgICAgIHN2Z1N0eWxlOiB7IHdpZHRoOiBwZXJjZW50ICsgXCIlXCIsIGhlaWdodDogXCIxMDAlXCIgfSxcbiAgICAgIHRleHQ6IHtcbiAgICAgICAgc3R5bGU6IHN0eWxlLFxuICAgICAgICBhdXRvU3R5bGVDb250YWluZXI6IGZhbHNlLFxuICAgICAgfSxcbiAgICAgIGZyb206IHsgY29sb3I6IFwiI0ZGRUE4MlwiIH0sXG4gICAgICB0bzogeyBjb2xvcjogXCIjRUQ2QTVBXCIgfSxcbiAgICAgIHN0ZXA6IChzdGF0ZSwgYmFyKSA9PiB7XG4gICAgICAgIGJhci5zZXRUZXh0KE1hdGgucm91bmQoYmFyLnZhbHVlKCkgKiBwZXJjZW50KSArIFwiICVcIik7XG4gICAgICB9LFxuICAgIH0pO1xuICAgIGJhci5hbmltYXRlKDEuMCk7IC8vIE51bWJlciBmcm9tIDAuMCB0byAxLjBcbiAgfTtcblxuICByZXR1cm4ge1xuICAgIGNoZWNrOiBmdW5jdGlvbiAoKSB7XG4gICAgICAvLyBjaGVjayBmb3IgYnJva2VuIGltYWdlc1xuICAgICAgJChcImltZ1wiKS5lYWNoKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYgKFxuICAgICAgICAgICh0eXBlb2YgdGhpcy5uYXR1cmFsV2lkdGggIT0gXCJ1bmRlZmluZWRcIiAmJiB0aGlzLm5hdHVyYWxXaWR0aCA9PSAwKSB8fFxuICAgICAgICAgIHRoaXMucmVhZHlTdGF0ZSA9PSBcInVuaW5pdGlhbGl6ZWRcIlxuICAgICAgICApIHtcbiAgICAgICAgICAkKHRoaXMpLmF0dHIoXCJzcmNcIiwgXCJhc3NldHMvaW1nL2ltYWdlbm90Zm91bmQucG5nXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuXG4gICAgaW5pdDogZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiaHRtbFwiKSAhPT0gbnVsbCkge1xuICAgICAgICBjcmVhdGVCYXIoXCIjaHRtbFwiLCBzdHlsZSwgODYpO1xuICAgICAgICBjcmVhdGVCYXIoXCIjY3NzXCIsIHN0eWxlLCA4Mik7XG4gICAgICAgIGNyZWF0ZUJhcihcIiNqc1wiLCBzdHlsZSwgNzApO1xuICAgICAgICBjcmVhdGVCYXIoXCIjcmVhY3RcIiwgc3R5bGUsIDY0KTtcbiAgICAgICAgY3JlYXRlQmFyKFwiI2FuZ3VsYXJcIiwgc3R5bGUsIDU0KTtcbiAgICAgICAgY3JlYXRlQmFyKFwiI25vZGVcIiwgc3R5bGUsIDQwKTtcbiAgICAgICAgY3JlYXRlQmFyKFwiI2d1bHBcIiwgc3R5bGUsIDc4KTtcbiAgICAgICAgY3JlYXRlQmFyKFwiI2RqYW5nb1wiLCBzdHlsZSwgNTYpO1xuICAgICAgfVxuICAgICAgUG9ydGZvbGlvLmNoZWNrKCk7XG4gICAgICBuZXcgV09XKCkuaW5pdCgpO1xuICAgICAgbmV3IEFPUy5pbml0KCk7XG4gICAgfSxcbiAgfTtcbn0pKCk7XG5cblBvcnRmb2xpby5pbml0KCk7XG4iLCJ2YXIgQmxvZ3MgPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgYmxvZ1NldHRpbmdzID0ge1xuICAgIC8vZnVsbC1pbWFnZVxuICAgIFBhcmVudDogXCIuY2FyZC1jb2x1bW5zI2Jsb2dzXCIsXG4gICAgSFRNTGNhcmRUZXh0OiBgPGRpdiBjbGFzcz1cImNhcmQgYmxvZyB3b3cgZmFkZUluXCIgZGF0YS13b3ctZHVyYXRpb249XCIyc1wiIGRhdGEtd293LWRlbGF5PVwiMHNcIj48L2Rpdj5gLFxuICAgIEhUTUxjYXJkRnVsbEltYWdlOiBgPGRpdiBjbGFzcz1cImNhcmQgYmxvZyBmdWxsLWltYWdlIHdvdyBmYWRlSW5cIiBkYXRhLXdvdy1kdXJhdGlvbj1cIjJzXCIgZGF0YS13b3ctZGVsYXk9XCIwc1wiPjwvZGl2PmAsXG4gICAgSFRNTGNhcmQ6IGA8ZGl2IGNsYXNzPVwieCBjYXJkIGJsb2cgaW1hZ2Ugd293IGZhZGVJblwiIGRhdGEtd293LWR1cmF0aW9uPVwiMnNcIiBkYXRhLXdvdy1kZWxheT1cIjBzXCI+PC9kaXY+YCxcbiAgICBIVE1MYmFyOiBgXG4gICAgICA8ZGl2IGNsYXNzPVwiYmFyXCIgZGF0YS1zcmM9XCJcIj5cbiAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtYmxvZ1wiPjwvaT5cbiAgICAgICAgPGk+PC9pPlxuICAgICAgICA8c3BhbiBjbGFzcz1cInRpdGxlXCI+YmxvZzwvc3Bhbj5cbiAgICAgIDwvZGl2PmAsXG5cbiAgICBIVE1MY2FyZEhhbGZCb2R5OiBgPGRpdiBjbGFzcz1cImNhcmQtYm9keVwiPlxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWRpYVwiPiBcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJ0aHVtYm5haWwgbXItM1wiIHNyYz1cIi9hc3NldHMvaW1nL3Byb2Nlc3NlZC1pbWFnZXMvcHJvZmlsZTFfNDAwdy5wbmdcIiBhbHQ9XCJwcm9maWxlIHBpY1wiLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8cD4gICBQb3N0ZWQgYnkgIDxzcGFuIGNsYXNzPVwidGl0bGUgdGl0bGVcIj5EYW5pZWwgSm9obnNvbjwvc3Bhbj4gIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cInRleHQtbXV0ZWQgdGV4dC1tdXRlZFwiPkFQUklMIDI5LCAyMDIwPC9zbWFsbD5cbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cInRvcGljc1wiPlxuICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cInRleHQtbXV0ZWRcIj48aSBjbGFzcz1cImZhYiBmYS1tYXJrZG93blwiPjwvaT48L2xpPlxuICAgICAgICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cInRleHQtbXV0ZWRcIj48aSBjbGFzcz1cImZhYiBmYS1sZXNzXCI+PC9pPjwvbGk+XG4gICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwidGV4dC1tdXRlZFwiPjxpIGNsYXNzPVwiZmFiIGZhLW5vZGUtanNcIj48L2k+PC9saT5cbiAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzPVwiY2FyZC10aXRsZVwiPkJlIHRoZSBjaGFuZ2UgdGhhdCB5b3Ugd2lzaCB0byBzZWUgaW4gdGhlIHdvcmxkLjwvaDU+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiY2FyZC10ZXh0IHRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgICBUaGlzIGlzIGEgbG9uZ2VyIGNhcmQgd2l0aCBzdXBwb3J0aW5nIHRleHQgYmVsb3cgYXMgYSBuYXR1cmFsIGxlYWQtaW4gdG9cbiAgICAgICAgICAgICAgICAgICAgICBhZGRpdGlvbmFsIGNvbnRlbnQuIFRoaXMgY29udGVudCBpcyBhIGxpdHRsZSBiaXQgbG9uZ2VyLlxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICA8L2Rpdj5gLFxuICAgIEhUTUxjYXJkRnVsbEJvZHk6IGA8ZGl2IGNsYXNzPVwiaW1hZ2VcIiBzdHlsZT1cImJhY2tncm91bmQtaW1hZ2U6dXJsKC9hc3NldHMvaW1nL3Byb2Nlc3NlZC1pbWFnZXMvcGhvdG8lbnVtYmVyJV80MDB3LnBuZylcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWJvZHkgaW1hZ2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVkaWFcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cInRodW1ibmFpbCBtci0zXCIgc3JjPVwiL2Fzc2V0cy9pbWcvcHJvY2Vzc2VkLWltYWdlcy9wcm9maWxlMV80MDB3LnBuZ1wiIGFsdD1cInByb2ZpbGUgcGljXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5Qb3N0ZWQgYnlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cInRpdGxlXCI+RGFuaWVsIEpvaG5zb248L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+QVBSSUwgMjksIDIwMjA8L3NtYWxsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9XCJjYXJkLXRpdGxlXCI+QmUgdGhlIGNoYW5nZSB0aGF0IHlvdSB3aXNoIHRvIHNlZSBpbiB0aGUgd29ybGQuPC9oNT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImNhcmQtdGV4dCB0ZXh0LW11dGVkXCI+VGhpcyBpcyBhIGxvbmdlciBjYXJkIHdpdGggc3VwcG9ydGluZyB0ZXh0IGJlbG93IGFzIGEgbmF0dXJhbCBsZWFkLWluIHRvIGFkZGl0aW9uYWwgY29udGVudC4gVGhpcyBjb250ZW50IGlzIGEgbGl0dGxlIGJpdCBsb25nZXIuPC9wPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDx1bCBjbGFzcz1cInRvcGljc1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhYiBmYS1odG1sNVwiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwidGV4dC1tdXRlZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYWIgZmEtY3NzM1wiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxpIGNsYXNzPVwidGV4dC1tdXRlZFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYWIgZmEtYW5ndWxhclwiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3VsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YCxcbiAgICBIVE1MY2FyZFRleHRCb2R5OiBgPGRpdiBjbGFzcz1cImNhcmQtYm9keVwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lZGlhXCI+XG4gICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cInRodW1ibmFpbCBtci0zXCIgc3JjPVwiL2Fzc2V0cy9pbWcvcHJvY2Vzc2VkLWltYWdlcy9wcm9maWxlMV80MDB3LnBuZ1wiIGFsdD1cInByb2ZpbGUgcGljXCIvPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWRpYS1ib2R5XCI+XG4gICAgICAgICAgICAgICAgICAgIDxwPlBvc3RlZCBieVxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJ0aXRsZVwiPkRhbmllbCBKb2huc29uPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cInRleHQtbXV0ZWRcIj5BUFJJTCAyOSwgMjAyMDwvc21hbGw+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDx1bCBjbGFzcz1cInRvcGljc1wiPlxuICAgICAgICAgICAgICAgIDxsaSBjbGFzcz1cInRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYWIgZmEtbWFya2Rvd25cIj48L2k+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFiIGZhLXNhc3NcIj48L2k+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJ0ZXh0LW11dGVkXCI+XG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFiIGZhLWd1bHBcIj48L2k+XG4gICAgICAgICAgICAgICAgPC9saT5cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICAgICA8aDUgY2xhc3M9XCJjYXJkLXRpdGxlXCI+QmUgdGhlIGNoYW5nZSB0aGF0IHlvdSB3aXNoIHRvIHNlZSBpbiB0aGUgd29ybGQuPC9oNT5cbiAgICAgICAgICAgIDxwIGNsYXNzPVwiY2FyZC10ZXh0IHRleHQtbXV0ZWRcIj5cbiAgICAgICAgICAgICAgICBLaXRzY2ggamVhbiBzaG9ydHMgbXVzdGFjaGUsIHNxdWlkIGNoaWNoYXJyb25lcyBidXRjaGVyIG9yZ2FuaWMgY2xpY2hlXG4gICAgICAgICAgICAgICAgICAgICAgY2FyZGlnYW4gY2hhcnRyZXVzZSBoZWxsIG9mLiBGcmFuemVuIGthbGUgY2hpcHMgRElZIGNhcmRpZ2FuIGV2ZXJ5ZGF5XG4gICAgICAgICAgICAgICAgICAgICAgY2FycnkgcmF3IGRlbmltIHRyeS1oYXJkLiBSYW1wcyBkcmVhbWNhdGNoZXIgYWRhcHRvZ2VuLCBwaG90byBib290aFxuICAgICAgICAgICAgICAgICAgICAgIHR5cGV3cml0ZXIgY2xvdWQgYnJlYWQgcGlja2xlZCBmbGFubmVsIHRhaXlha2kgc2hhbWFuIFlPTE8gc2VsdmFnZSBoZWxsIG9mXG4gICAgICAgICAgICAgICAgICAgICAgZmFybS10by10YWJsZS4gU2VsZmllcyBtdXN0YWNoZSBlY2hvIHBhcmsgYWlyIHBsYW50LiBQbGFpZCBtZXNzZW5nZXIgYmFnXG4gICAgICAgICAgICAgICAgICAgICAgZm9yYWdlIGNhcmRpZ2FuIGNoaWNoYXJyb25lcyBrb21idWNoYSBnbG9zc2llciBzZWxmaWVzIGhleGFnb24gY2hpYVxuICAgICAgICAgICAgICAgICAgICAgIHdpbGxpYW1zYnVyZy4gU2NlbmVzdGVyIGV2ZXJ5ZGF5IGNhcnJ5IHZpcmFsLCBhcnRpc2FuIGZsZXhpdGFyaWFuIHNtYWxsXG4gICAgICAgICAgICAgICAgICAgICAgYmF0Y2ggdHJ1ZmZhdXQuIExldHRlcnByZXNzIG1lc3NlbmdlciBiYWcgZW5hbWVsIHBpbiB0d2VlIGtuYXVzZ2FhcmRcbiAgICAgICAgICAgICAgICAgICAgICBzY2hsaXR6IHBpY2tsZWQuXG4gICAgICAgICAgICA8L3A+XG4gICAgICAgICAgPC9kaXY+YCxcbiAgICBIVE1MZm9vdGVyOiBgPGRpdiBjbGFzcz1cImNhcmQtYm9keS1mb290ZXJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYWIgZmEtY29kZXBlblwiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYWIgZmEtZ2l0aHViXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhYiBmYS1qc2ZpZGRsZVwiPjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+YCxcbiAgfTtcblxuICBmdW5jdGlvbiBjcmVhdGVIYWxmSW1hZ2VCbG9nKFxuICAgIFBhcmVudCxcbiAgICBIVE1MY2FyZCxcbiAgICBIVE1MYmFyLFxuICAgIEhUTUxjYXJkSGFsZkJvZHksXG4gICAgSFRNTGZvb3RlclxuICApIHtcbiAgICB2YXIgcmFuZG9tTnVtYmVyID0gTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiA2KTtcbiAgICB2YXIgY2FyZCA9ICQoSFRNTGNhcmQpO1xuXG4gICAgdmFyIEhUTUxpbWFnZSA9XG4gICAgICAnPGltZyBjbGFzcz1cImNhcmQtaW1nLXRvcFwiICBzcmM9XCIvYXNzZXRzL2ltZy9wcm9jZXNzZWQtaW1hZ2VzL3Bob3RvJyArXG4gICAgICByYW5kb21OdW1iZXIgK1xuICAgICAgJ180MDB3LnBuZ1wiICBhbHQ9XCJDYXJkIGltYWdlIGNhcFwiLz4nO1xuXG4gICAgJChjYXJkKS5hcHBlbmQoSFRNTGJhcik7XG4gICAgJChjYXJkKS5hcHBlbmQoSFRNTGNhcmRIYWxmQm9keSk7XG4gICAgJChjYXJkKS5hcHBlbmQoSFRNTGltYWdlKTtcbiAgICAkKGNhcmQpLmFwcGVuZChIVE1MZm9vdGVyKTtcbiAgICAkKGNhcmQpLmFwcGVuZFRvKFBhcmVudCk7XG4gIH1cblxuICAvLyBjcmVhdGUgZnVsbCBpbWFnZVxuICBmdW5jdGlvbiBjcmVhdGVGdWxsQmxvZyhcbiAgICBQYXJlbnQsXG4gICAgSFRNTGNhcmRGdWxsSW1hZ2UsXG4gICAgSFRNTGJhcixcbiAgICBIVE1MY2FyZEZ1bGxCb2R5LFxuICAgIEhUTUxmb290ZXJcbiAgKSB7XG4gICAgdmFyIGNhcmQgPSAkKEhUTUxjYXJkRnVsbEltYWdlKTtcblxuICAgICQoY2FyZCkuYXBwZW5kKCQoSFRNTGJhcikpO1xuICAgIHZhciByYW5kb21OdW1iZXIgPSBNYXRoLmNlaWwoTWF0aC5yYW5kb20oKSAqIDYpO1xuXG4gICAgJChjYXJkKS5hcHBlbmQoSFRNTGNhcmRGdWxsQm9keS5yZXBsYWNlKFwiJW51bWJlciVcIiwgcmFuZG9tTnVtYmVyKSk7XG4gICAgJChjYXJkKS5hcHBlbmQoSFRNTGZvb3Rlcik7XG4gICAgJChjYXJkKS5hcHBlbmRUbyhQYXJlbnQpO1xuICB9XG5cbiAgLy9tYWtlIGFuIG9iamVjdFxuICBmdW5jdGlvbiBjcmVhdGVUZXh0QmxvZyhcbiAgICBQYXJlbnQsXG4gICAgSFRNTGNhcmRUZXh0LFxuICAgIEhUTUxiYXIsXG4gICAgSFRNTGNhcmRUZXh0Qm9keSxcbiAgICBIVE1MZm9vdGVyXG4gICkge1xuICAgIHZhciBjYXJkID0gJChIVE1MY2FyZFRleHQpO1xuICAgICQoY2FyZCkuYXBwZW5kKEhUTUxmb290ZXIpO1xuICAgICQoY2FyZCkuYXBwZW5kKEhUTUxiYXIpO1xuXG4gICAgJChjYXJkKS5hcHBlbmQoSFRNTGNhcmRUZXh0Qm9keSk7XG5cbiAgICAkKGNhcmQpLmFwcGVuZFRvKFBhcmVudCk7XG4gIH1cblxuICBmdW5jdGlvbiB0eXBlT2ZCbG9nKG51bWJlciwgYmxvZ1NldHRpbmdzKSB7XG4gICAgaWYgKG51bWJlciA9PT0gMSkge1xuICAgICAgcmV0dXJuIGNyZWF0ZVRleHRCbG9nKFxuICAgICAgICBibG9nU2V0dGluZ3MuUGFyZW50LFxuICAgICAgICBibG9nU2V0dGluZ3MuSFRNTGNhcmRUZXh0LFxuICAgICAgICBibG9nU2V0dGluZ3MuSFRNTGJhcixcbiAgICAgICAgYmxvZ1NldHRpbmdzLkhUTUxjYXJkVGV4dEJvZHksXG4gICAgICAgIGJsb2dTZXR0aW5ncy5IVE1MZm9vdGVyXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAobnVtYmVyID09PSAyKSB7XG4gICAgICByZXR1cm4gY3JlYXRlRnVsbEJsb2coXG4gICAgICAgIGJsb2dTZXR0aW5ncy5QYXJlbnQsXG4gICAgICAgIGJsb2dTZXR0aW5ncy5IVE1MY2FyZEZ1bGxJbWFnZSxcbiAgICAgICAgYmxvZ1NldHRpbmdzLkhUTUxiYXIsXG4gICAgICAgIGJsb2dTZXR0aW5ncy5IVE1MY2FyZEZ1bGxCb2R5LFxuICAgICAgICBibG9nU2V0dGluZ3MuSFRNTGZvb3RlclxuICAgICAgKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGNyZWF0ZUhhbGZJbWFnZUJsb2coXG4gICAgICAgIGJsb2dTZXR0aW5ncy5QYXJlbnQsXG4gICAgICAgIGJsb2dTZXR0aW5ncy5IVE1MY2FyZCxcbiAgICAgICAgYmxvZ1NldHRpbmdzLkhUTUxiYXIsXG4gICAgICAgIGJsb2dTZXR0aW5ncy5IVE1MY2FyZEhhbGZCb2R5LFxuICAgICAgICBibG9nU2V0dGluZ3MuSFRNTGZvb3RlclxuICAgICAgKTtcbiAgICB9XG4gIH1cblxuICByZXR1cm4ge1xuICAgIGNyZWF0ZTogZnVuY3Rpb24gKGFtb3VudCkge1xuICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gYW1vdW50OyBpKyspIHtcbiAgICAgICAgLy9kZXRlcm1pbmUgd2hpY2ggdGltZSBvZiBibG9nIHRvIG1ha2VcbiAgICAgICAgdmFyIHJhbmRvbU51bWJlciA9IE1hdGguY2VpbChNYXRoLnJhbmRvbSgpICogMyk7XG4gICAgICAgIHR5cGVPZkJsb2cocmFuZG9tTnVtYmVyLCBibG9nU2V0dGluZ3MpO1xuICAgICAgfVxuICAgIH0sXG5cbiAgICBpbml0OiBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJibG9nc1wiKSAhPT0gbnVsbCkge1xuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInNjcm9sbFwiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgaWYgKFxuICAgICAgICAgICAgd2luZG93LnNjcm9sbFkgKyB3aW5kb3cuaW5uZXJIZWlnaHQgKyAxNTAgPj1cbiAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxIZWlnaHRcbiAgICAgICAgICApIHtcbiAgICAgICAgICAgIEJsb2dzLmNyZWF0ZSgxMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICB9O1xufSkoKTtcbkJsb2dzLmluaXQoKTtcbiIsIiIsInZhciBQb3J0Zm9saW8gPSAoZnVuY3Rpb24gKCkge1xuICB2YXIgcG9ydGZvbGlvU2V0dGluZ3MgPSB7XG4gICAgLy8gbW92ZWQgb250byBjYXJkIGNvbHVtbnNcbiAgICAvLyBlYWNoIHRhYiBoYXMgaXRzIG9uIHBhcmVudFxuICAgIFBhcmVudDogXCIuY2FyZC1jb2x1bW5zXCIsXG4gICAgSFRNTGNhcmQ6IGA8ZGl2IGNsYXNzPVwiY2FyZCB3b3cgZmFkZUluUmlnaHRcIiBkYXRhLXdvdy1kdXJhdGlvbj1cIjJzXCIgZGF0YS13b3ctZGVsYXk9XCIxc1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJiYXJcIiBkYXRhLXNyYz1cIlwiPlxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhYiBmYS1maXJlZm94XCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICA8aT48L2k+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwidGl0bGVcIj5UaXRsZSBmb3IgZmlyc3QgaXRlbTwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwiY2FyZC1pbWctdG9wXCIgc3JjPVwiL2Fzc2V0cy9pbWcvd2Vic2l0ZSVudW1iZXIlLnBuZ1wiIGFsdD1cIktpdHRlblwiPjxhIGhyZWY9XCIjXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkLWJvZHktZm9vdGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhYiBmYS1jb2RlcGVuXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYWIgZmEtZ2l0aHViXCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYWIgZmEtYml0YnVja2V0XCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICA8L2Rpdj5gLFxuICB9O1xuICBcbiAgZnVuY3Rpb24gY3JlYXRlUG9ydGZvbGlvKFBhcmVudCwgSFRNTGNhcmQsIHJhbmRvbU51bWJlcikge1xuICAgIHZhciBjYXJkID0gJChIVE1MY2FyZC5yZXBsYWNlKFwiJW51bWJlciVcIiwgcmFuZG9tTnVtYmVyKSk7XG5cbiAgICAkKFBhcmVudCkuYXBwZW5kKGNhcmQpO1xuICB9XG4gIHJldHVybiB7XG4gICAgY3JlYXRlOiBmdW5jdGlvbiAoYW1vdW50KSB7XG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSBhbW91bnQ7IGkrKykge1xuICAgICAgICB2YXIgcmFuZG9tTnVtYmVyID0gTWF0aC5jZWlsKE1hdGgucmFuZG9tKCkgKiA2KTtcbiAgICAgICAgY3JlYXRlUG9ydGZvbGlvKFxuICAgICAgICAgIHBvcnRmb2xpb1NldHRpbmdzLlBhcmVudCxcbiAgICAgICAgICBwb3J0Zm9saW9TZXR0aW5ncy5IVE1MY2FyZCxcbiAgICAgICAgICByYW5kb21OdW1iZXJcbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9LFxuXG4gICAgaW5pdDogZnVuY3Rpb24gKGFtb3VudCkge1xuICAgICAgaWYgKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwibXlUYWJDb250ZW50XCIpICE9PSBudWxsKSB7XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICBpZiAoXG4gICAgICAgICAgICB3aW5kb3cuc2Nyb2xsWSArIHdpbmRvdy5pbm5lckhlaWdodCArIDEwMCA+PVxuICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbEhlaWdodFxuICAgICAgICAgICkge1xuICAgICAgICAgICAgUG9ydGZvbGlvLmNyZWF0ZSgxMCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9LFxuICB9O1xufSkoKTtcblxuUG9ydGZvbGlvLmluaXQoKTtcbiIsImlmIChkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInR5cGVkXCIpICE9PSBudWxsKSB7XG4gICAgdmFyIHR5cGVkID0gbmV3IFR5cGVkKFwiI3R5cGVkXCIsIHtcbiAgICAgIHN0cmluZ3M6IFtcIkknbSBhIHdlYiBkZXZlbG9wZXIgXjEwMDBcIiwgXCJJJ20gYSBTb2Z0d2FyZSBlbmdpbmVlciBeMTAwMFwiLCBcImFuZCBpIGRvIGF1dG9tYXRpb25cIl0sXG4gICAgICBzbWFydEJhY2tzcGFjZTogdHJ1ZSwgLy8gRGVmYXVsdCB2YWx1ZSxcbiAgICAgIHR5cGVTcGVlZDogNTAsXG4gICAgICBzdGFydERlbGF5OiAzMDAwLFxuICAgICAgbG9vcDogdHJ1ZSxcbiAgICB9KTtcbiAgfSJdfQ==
